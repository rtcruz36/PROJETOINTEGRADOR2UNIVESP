<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Assistente de Estudos - Perfil do Usu√°rio</title>
    <link rel="stylesheet" href="styles/dashboard.css" />
    <link rel="stylesheet" href="styles/profile.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
        rel="stylesheet"
    />
</head>
<body data-api-base="http://localhost:8000/api">
    <div class="app-shell">
        <header class="app-header">
            <div class="logo-area">
                <div class="logo">PI2</div>
                <div class="header-text">
                    <h1>Assistente de Estudos</h1>
                    <p>Gerencie seu perfil e prefer√™ncias pessoais</p>
                </div>
            </div>
            <div class="user-actions">
                <a class="ghost-button ghost-button--small" href="index.html">Dashboard</a>
                <a class="ghost-button ghost-button--small" href="quizzes.html">Central de quizzes</a>
                <a class="ghost-button ghost-button--small" href="planner.html">Planejador semanal</a>
                <a class="ghost-button ghost-button--small" href="schedule.html">Cronograma IA</a>
                <a class="ghost-button ghost-button--small" href="studybot.html">StudyBot</a>
                <a class="ghost-button ghost-button--small" href="study.html">Modo foco</a>
                <a class="ghost-button ghost-button--small" href="study-log.html">Registro de estudo</a>
                <a class="ghost-button ghost-button--small" href="analytics.html">Analytics</a>
                <a class="ghost-button ghost-button--small ghost-button--current" href="profile.html" aria-current="page">Perfil</a>
                <span id="user-greeting" class="user-greeting">Ol√°!</span>
                <button id="logout-button" class="ghost-button" type="button">Sair</button>
            </div>
        </header>

        <main class="profile-main">
            <section class="panel profile-overview" aria-label="Informa√ß√µes b√°sicas do usu√°rio">
                <div class="profile-photo">
                    <div class="profile-photo__frame">
                        <img id="profile-photo-preview" src="" alt="Foto de perfil" />
                        <div id="profile-photo-placeholder" class="profile-photo__placeholder" hidden>
                            <span aria-hidden="true">üë§</span>
                        </div>
                    </div>
                    <div class="profile-photo__actions">
                        <label class="primary-button primary-button--small" for="profile-photo-input">
                            Trocar foto
                        </label>
                        <input id="profile-photo-input" type="file" accept="image/*" hidden />
                        <button id="remove-photo-button" class="ghost-button ghost-button--small" type="button" disabled>
                            Remover foto
                        </button>
                    </div>
                </div>

                <form id="profile-form" class="profile-form">
                    <div class="profile-form__group">
                        <label class="profile-field" for="profile-name">
                            <span>Nome</span>
                            <input id="profile-name" name="first_name" type="text" autocomplete="name" />
                        </label>
                        <label class="profile-field" for="profile-email">
                            <span>E-mail</span>
                            <input id="profile-email" name="email" type="email" autocomplete="email" required />
                        </label>
                    </div>
                    <label class="profile-field" for="profile-bio">
                        <span>Bio</span>
                        <textarea id="profile-bio" name="bio" rows="4" placeholder="Conte um pouco sobre voc√™"></textarea>
                    </label>

                    <fieldset class="profile-form__settings" aria-labelledby="settings-title">
                        <legend id="settings-title">Configura√ß√µes</legend>
                        <label class="profile-toggle">
                            <input id="notifications-toggle" type="checkbox" />
                            <span>Receber notifica√ß√µes de estudo</span>
                        </label>
                        <label class="profile-field" for="theme-select">
                            <span>Tema</span>
                            <select id="theme-select" name="theme">
                                <option value="system">Autom√°tico</option>
                                <option value="light">Claro</option>
                                <option value="dark">Escuro</option>
                            </select>
                        </label>
                    </fieldset>

                    <div class="profile-form__actions">
                        <button id="save-profile-button" class="primary-button" type="submit">Salvar altera√ß√µes</button>
                        <p id="profile-feedback" class="profile-feedback" role="status"></p>
                    </div>
                </form>
            </section>

            <section class="panel profile-stats" aria-label="Estat√≠sticas pessoais">
                <header class="profile-stats__header">
                    <span class="panel-subtitle">Estat√≠sticas pessoais</span>
                    <h2>Seu progresso em n√∫meros</h2>
                </header>
                <div class="profile-stats__grid">
                    <article class="profile-stat">
                        <span class="profile-stat__label">Dias estudando</span>
                        <strong id="stat-days" class="profile-stat__value">--</strong>
                    </article>
                    <article class="profile-stat">
                        <span class="profile-stat__label">Total de horas</span>
                        <strong id="stat-hours" class="profile-stat__value">--</strong>
                    </article>
                    <article class="profile-stat">
                        <span class="profile-stat__label">Streak atual</span>
                        <strong id="stat-streak" class="profile-stat__value">--</strong>
                        <span id="stat-best-streak" class="profile-stat__helper"></span>
                    </article>
                </div>
            </section>
        </main>
    </div>

    <div id="login-overlay" class="login-overlay" role="dialog" aria-modal="true">
        <form id="login-form" class="login-card">
            <h2>Entrar</h2>
            <p>Acesse sua conta para visualizar e editar o perfil.</p>
            <label for="login-email">E-mail</label>
            <input
                id="login-email"
                name="email"
                type="email"
                required
                autocomplete="email"
                placeholder="seu-email@exemplo.com"
            />
            <label for="login-password">Senha</label>
            <input
                id="login-password"
                name="password"
                type="password"
                required
                autocomplete="current-password"
                placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
            />
            <button type="submit" class="primary-button">Entrar</button>
            <p id="login-error" class="form-error" role="alert"></p>
        </form>
    </div>

    <script src="js/profile.js" defer></script>
</body>
</html>
